IP Address
===

> TCP/IP는 프로토콜을 사용하는 모든 장비들을 구분하기 위해 만든 논리적인 주소
> 32bit
> Network ID + Host ID

* Network ID가 같을 때 Router 없이 통신이 가능한 Broadcast Domain이 됨
* 하나의 Network에 속한 장비의 Host ID는 서로 달라야 한다 (중복될 경우 IP충돌)

#### IPv4 주소 형식
* 2진 표기법
  ex) 11000000 10101000 00000001 00011111
* 10진 표기법
  ex) 192.168.1.31
* 2진수 표기법에서 8개 = 1 octet


IPv4 Class
---

* 각 Class에서 실제 Host에 사용되는 IP는 Network Address, Broadcast Address를 제외한 나머지 IP.

> Network Address : Host ID 부분이 전부 0
> Broadcast Address : Host ID 부분이 전부 1

![](images/2023-06-01-13-30-31.png)


#### *특수한 IP주소*

##### Loop back address
* 127.x.x.x
* 보통 127.0.0.1 을 사용 = **localhost**(hosts 파일에 등록)
* 실제 인터넷에서 사용되거나 host에 설정되는 네트워크가 아니라 테스트 목적인 네트워크 대역
* TCP/IP가 정상적으로 작동하는지 여부 등을 판단할 때 사용되는 IP 대역
* TCP/IP protocol을 사용한 Application 등을 테스트 (정상 작동 여부)


##### Private IP
* 인터넷 연결없이 TCP/IP를 사용하기 위해 주어진 네트워크 대역
* Routing 되지 않는 IP 대역
* Class A : 10.0.0.0 ~ 10.255.255.255 (10.0.0.0/8)
* Class B : 172.16.0.0 ~ 172.31.255.255 (172.16.0.0/12)
* Class C : 192.168.0.0 ~ 192.168.255.255 (192.168.0.0/16)
  (Internet에서 위 IP주소들은 Routing X)

##### Zeroconf address
* 169.254.0.0 ~ 169.254.255.255 (169.254.0.0/16)
* IP 자동할당 했을 때 IP를 정상적으로 받지 못한 경우에 TCP/IP 통신을 하기 위해 설정되는 IP주소
* Router와 Router 간 1:1 연결을 하거나 VPN을 1:1 연결 시에 사용하기도 함

##### Zero address
*** 0.0.0.0/8**은 모든 IP주소의 대표 주소인 **0.0.0.0/0 (즉, 모든 IP주소)**를 사용하기 때문에 IP주소로 사용하지 못하는 네트워크 대역이다.

##### D, E Class
* D class는 IP주소 1개가 Multicast 서비스 하나의 IP다. (장비에 주소를 등록하지 않음)
* E class는 사용하지 않음

![](images/2023-06-01-13-41-48.png)


Subnet Mask
---

> 큰 네트워크를 작은 단위로 나누어 사용
> Broadcast domain 분할
> IP주소와 Subnet mask를 AND 연산을 하면 Network주소이다.

1. Subnet mask에서 1은 IP주소가 변하지 않는 Network ID 부분
2. Subnet mask에서 0은 호스트 ID 부분
3. Subnet mask 값은 연속된 0 혹은 1
4. 0으로 시작한 경우 중간에 1이 올 수 없다


#### Default Mask
> Class 별 Default Mask

##### A class
11111111 00000000 00000000 00000000
255.0.0.0
**/8** (prefix)

##### B class
11111111 11111111 00000000 00000000
255.255.0.0
**/16**

##### C class
11111111 11111111 11111111 00000000
255.255.255.0
**/24**


Subnetting
---

##### Subnet mask 관련 2진수 중요!!!
```
10000000 = 128
11000000 = 192
11100000 = 224
11110000 = 240
11111000 = 248
11111100 = 252
11111110 = 254
11111111 = 255
```

#### 서브넷마스크에 의한 IP 수
```
ex) /16 = 255.255.0.0 = 11111111.11111111.00000000.00000000
총 네트워크 수 : 1개
총 IP수 : 2^16개 = 65,536개
```
```
ex) /17 = 11111111.11111111.10000000.00000000 = 255.255.128.0
총 네트워크 수 : 2개
각 네트워크 당 IP수 : 2^15개 = 32,768개
```
```
ex) /16 -> /18로 변경
= 255.255.192.0
11111111.11111111.11000000.00000000
총 네트워크 수 : 4개
각 네트워크 당 IP수 : 2^14개 = 16,384개
```
```
ex) 10.10.10.10/20 (서브넷마스크 : 255.255.240.0)
Network 주소 : 10.10.0.0
Broadcast 주소 : 10.10.15.255
---> 10.10.0.0 ~ 10.10.15.255
```
```
ex) 20.20.20.20/22 (255.255.252.0)
= 20.20.00010100.00010100 /22
Network 주소 : 20.20.00010100.00000000 = 20.20.20.0
Broadcast 주소 : 20.20.00010111.11111111 = 20.20.23.255
---> 20.20.20.0 ~ 20.20.23.255
```
```
ex) 100.100.100.100/26 (255.255.255.192)
= 100.100.100.01100100 /26
Network 주소 : 100.100.100.01000000 = 100.100.100.64
Broadcast 주소 : 100.100.100.01111111 = 100.100.100.127
--->  100.100.100.64 ~ 100.100.100.127
```

#### 다른 계산법

```
ex) 64.53.172.102/26 (255.255.255.192)
하나의 네트워크에 IP주소는 2^6개 = 64개

102/64 = 1.xxxx     --->      Network 주소 : 64.53.172.64
Broadcast 주소 : 64.53.172.127(64+64-1)
---> 64.53.172.64 ~ 64.53.172.127
```
```
ex) 70.239.169.114/27 (255.255.255.224)
하나의 네트워크 당 Host주소는 2^5개 = 32개

114/32 = 3.xxxx     --->      Network 주소 : 70.239.169.96 (32*3)
Broadcast 주소 : 70.239.169.127(96+32-1)
---> 70.239.169.96 ~ 70.239.169.127
```
```
ex) 67.14.102.107/19
(세번째 octet만 생각)
각 네트워크 당 Host주소는 2^5개 = 32개

102/32 = 3.xxxx     --->      Network 주소 : 67.14.96.0
Broadcast 주소 : 67.14.127.255
---> 67.14.96.0 ~ 67.14.127.255
```
ex) 90.88.42.236/15
각 네트워크 당 Host주소는 2^1개 = 2개

88/2 = 44     --->      Network 주소 : 90.88.0.0
Broadcast 주소 : 90.89(88+2-1).255.255
---> 90.88.0.0 ~ 90.89.255.255
```
```
ex) 162.111.50.86/22
각 네트워크 당 Host주소는 2^2개 = 4개

50/4 = 12.xxx     --->      Network 주소 : 162.111.48.0
Broadcast 주소 : 162.111.51(48+4-1).255
---> 162.111.48.0 ~ 162.111.51.255
```

