Static Routing (1)
===

Routing Table
---

* 경로 정보를 수시로 업데이트
* RAM에 기록 ---> Power off 시 정보가 사라짐
* Routing Table 확인
  ```
  Router# show ip route
  ```
* MAC주소를 L2 Header로 만들어 전송
  * 각 계층은 Destination address가 자신의 주소이면 **Decapsulation**. 아니면 Drop
  * 상위 계층은 하위 계층이 없으면 더 이상 **Encapsulation** 할 수 없음
  * L2 Switch는 자신의 MAC주소가 아니더라도 Switch 내부로 가져와 MAC address를 비교한다.
  * L3 장비는 L3주소가 자신의 주소가 아니더라도 Routing Table을 lookup하여 주소 비교


Static Routing
---

> 관리자가 직접 Router에 경로를 직접 입력하여 Routing table을 작성하는 Routing 방식

> 아무래도 Static Routing은 관리자가 직접 IP를 입력하다 보니 경로 변경 시 대응이 느리다

##### Static Routing Protocol 명령

```
Router(config)# ip route [목적지 Network 주소] [Subnet_mask] [출구 Interface ID] [Next-hop IP]
```

Routing Table 등록
---

1. 해당 경로로 packet이 전송되어야 함
2. Routing protocol 중 **connected** 제약
   * 서로 다른 네트워크를 입력. 즉, 같은 네트워크나 해당 네트워크의 subnetting 된 네트워크가 포함되면 안됀다. ---> **Overlap**
   * shutdown 상태이면 Routing table에 등록되지 않음 ---> 네트워크 주소, Broadcast 주소를 입력하지 못함 (만약 입력하면 bad mask 오류)
3. Static Routing 제약
   * (config)# ip route [네트워크주소] [서브넷마스크] [출구 Interface] [next-hop IP]
   * Static Routing은 네트워크 주소만 인식. 즉, 실제 dev에 적용된 IP주소를 입력하면 #Inconsistent address and mask 오류 발생
   * 출구 Interface가 shutdown 상태이면 Routing table에 등록되지 않음
   * Static Routing 명령으로 입력하면 덮어쓰기 형식이 아니다.


##### Static Routing 예시

![](images/2023-06-17-22-26-26.png)

![](images/2023-06-17-22-26-14.png)
> R1 Static routing 설정

![](images/2023-06-17-22-26-49.png)
> R2 Static routing 설정

