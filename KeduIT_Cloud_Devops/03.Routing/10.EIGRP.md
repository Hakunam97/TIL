EIGRP (Enhanced Interior Gateway Routing Protocol)
===

> IGRP라는 Protocol의 기능을 향상시킨 Routing protocol

- IGRP는 Distance-vector Routing protocol이지만 OSPF의 Link-State Routing protocol의 속성을 추가한 Routing protocol   
  ---> Distance-vector Routing protocol + Link-State Routing protocol(neighbor) 의 속성을 모두 가진 Protocol (분류는 Distance-vector Routing protocol로 분류)

- CISCO 전용 Protocol ---> 다른 vendor 사용 불가 ---> 현재 표준 Protocol
- Hybrid Protocol (Advance Routing protocol)
- EIGRP는 Classful, Classless Routing protocol 모두 지원
- EIGRP는 auto-summary 및 no auto-summary를 지원하고 IOSv12에선 auto-summary가 default로 설정되어 있고 IOSv15에선 no auto-summary가 Default

**Distance vector Routing protocol**은 이웃한 장비가 알려준 best-path를 그대로 적용시키지만   
**Link-state Routing protocol**은 이웃한 장비는 Link 정보와 네트워크 정보만을 이웃 장비에 알려주고 Link 정보가 다 모인 후 해당 장비가 알고리즘에 기반하여 계산 후 best-path를 선출


EIGRP 특징
---

### 1. PDM (Protocol Dependent Mode) 지원

- IP 이외 IPX, Apple Talk와 같은 다른 L3 네트워크 Protocol의 정보 또한 교환 가능

### 2. AS (Autonomous System)
> AS로 Update 범위를 제한

- BGP의 AS는 인터넷에서 사용되는 주소로 인터넷 연결 시 반드시 필요
  
- EIGRP의 AS는 Update 범위를 제한하기 위한 주소로 아무 주소를 사용해도 무방
  - EIGRP는 AS number가 틀리면 정보 교환을 하지 않음    
  ---> EIGRP는 정보 교환을 위해 neighbor 관계를 맺는데 A**S number가 틀리면 neighbor 관계가 맺어지지 않음**
  - AS number를 이용해 계층적 구조 topology를 만들 수 있음
  - 하나의 Router에서 여러 EIGRP process를 실행할 수 있음

### 여러 Update용 packet을 구분해서 필요한 정보만 update
> Link-state Routing Protocol의 특징

- Hello packet : neighbor 관계를 맺기 위한 packet (neighbor 유지관리, neighbor 장비 존재 확인용)
- Update packet : Topology table (EIGRP의 Routing DB)을 전달. 네트워크 망에 변화가 생겼을 경우에만 보냄
- Query packet : 특정 목적지 네트워크의 best-path에 장애가 발생했을 경우 우회 경로가 있는지 물어봄 (RIP의 Route poisoning과 비슷)
- Reply packet : Query packet을 받은 Router에서 보내는 응답 메시지 (RIP의 Poison reverse 와 비슷)
- Ack packet : EIGRP는 IP 기반으로 동작 ---> 신뢰성 없음 ---> neighbor로 보낸 Update / Query / Reply packet이 정상 수신되었는지를 확인하는 packet (신뢰성 및 재전송 목적)
  - 만약 Update / Query / Reply packet을 보낸 후 Ack packet이 오지 않는다면 일정 시간이 지난 후 재전송 (최대 16회, 그 이후부턴 neighbor 관계를 끊음)


